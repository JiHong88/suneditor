"undefined"===typeof window.SUNEDITOR&&(window.SUNEDITOR={},SUNEDITOR.plugin={});
SUNEDITOR.defaultLang={toolbar:{font:"Font",formats:"Formats",fontSize:"Size",bold:"Bold",underline:"Underline",italic:"Italic",strike:"Strike",subscript:"Subscript",superscript:"Superscript",removeFormat:"Remove Format",fontColor:"Font Color",hiliteColor:"Hilite Color",indent:"Indent",outdent:"Outdent",align:"Align",alignLeft:"Align left",alignRight:"Align right",alignCenter:"Align center",justifyFull:"Justify full",list:"list",orderList:"Ordered list",unorderList:"Unordered list",line:"Line",table:"Table",
        link:"Link",image:"Image",video:"Video",fullScreen:"Full screen",showBlocks:"Show blocks",codeView:"Code view",undo:"Undo",redo:"Redo",preview:"Preview",print:"print",tag_p:"Paragraph",tag_div:"Normal (DIV)",tag_h:"Header"},dialogBox:{linkBox:{title:"Insert Link",url:"URL to link",text:"Text to display",newWindowCheck:"Open in new window"},imageBox:{title:"Insert image",file:"Select from files",url:"Image URL",caption:"Insert image description",altText:"Alternative text"},videoBox:{title:"Insert Video",
            url:"Media embed URL, YouTube"},resize100:"resize 100%",resize75:"resize 75%",resize50:"resize 50%",resize25:"resize 25%",remove:"remove",submitButton:"Submit",revertButton:"Revert",proportion:"constrain proportions",width:"Width",height:"Height",basic:"Basic",left:"Left",right:"Right",center:"Center"},editLink:{edit:"Edit",remove:"Remove"}};
(function(){function A(a){var b="";a=document.createRange().createContextualFragment(a.trim()).childNodes;for(var e=0,c=a.length;e<c;e++){var g=a[e].outerHTML||a[e].textContent;b=/^(?:P|TABLE|H[1-6]|DIV)$/i.test(a[e].tagName)?b+g:b+("<P>"+g+"</p>")}0===b.length&&(b="<p>&#65279</p>");return b}function B(a){var b='<div class="sun-editor-id-toolbar-cover"></div>',e=null;var c=SUNEDITOR.lang;c={font:["btn_font",c.toolbar.font,"font","submenu","",'<span class="txt sun-editor-font-family">'+c.toolbar.font+
    '</span><span class="arrow-more-down"></span>'],formats:["btn_format",c.toolbar.formats,"formatBlock","submenu","",'<span class="txt sun-editor-font-format">'+c.toolbar.formats+'</span><span class="arrow-more-down"></span>'],fontSize:["btn_size",c.toolbar.fontSize,"fontSize","submenu","",'<span class="txt sun-editor-font-size">'+c.toolbar.fontSize+'</span><span class="arrow-more-down"></span>'],bold:["sun-editor-id-bold",c.toolbar.bold+"(Ctrl+B)","bold","","",'<div class="icon-bold"></div>'],underline:["sun-editor-id-underline",
        c.toolbar.underline+"(Ctrl+U)","underline","","",'<div class="icon-underline"></div>'],italic:["sun-editor-id-italic",c.toolbar.italic+"(Ctrl+I)","italic","","",'<div class="icon-italic"></div>'],strike:["sun-editor-id-strike",c.toolbar.strike+"(Ctrl+SHIFT+S)","strikethrough","","",'<div class="icon-strokethrough"></div>'],subscript:["sun-editor-id-subscript",c.toolbar.subscript,"subscript","","",'<div class="icon-subscript"></div>'],superscript:["sun-editor-id-superscript",c.toolbar.superscript,
        "superscript","","",'<div class="icon-superscript"></div>'],removeFormat:["",c.toolbar.removeFormat,"removeFormat","","",'<div class="icon-erase"></div>'],fontColor:["",c.toolbar.fontColor,"foreColor","submenu","",'<div class="icon-foreColor"></div>'],hiliteColor:["",c.toolbar.hiliteColor,"hiliteColor","submenu","",'<div class="icon-hiliteColor"></div>'],indent:["",c.toolbar.indent+"(Ctrl + [)","indent","","",'<div class="icon-indent-right"></div>'],outdent:["",c.toolbar.outdent+"(Ctrl + ])","outdent",
        "","",'<div class="icon-indent-left"></div>'],align:["btn_align",c.toolbar.align,"align","submenu","",'<div class="icon-align-left"></div>'],list:["",c.toolbar.list,"list","submenu","",'<div class="icon-list-number"></div>'],line:["btn_line",c.toolbar.line,"horizontalRules","submenu","",'<hr style="border-width: 1px 0 0; border-style: solid none none; border-color: black; border-image: initial; height: 1px;" /><hr style="border-width: 1px 0 0; border-style: dotted none none; border-color: black; border-image: initial; height: 1px;" /><hr style="border-width: 1px 0 0; border-style: dashed none none; border-color: black; border-image: initial; height: 1px;" />'],
    table:["",c.toolbar.table,"table","submenu","",'<div class="icon-grid"></div>'],link:["",c.toolbar.link,"link","dialog","",'<div class="icon-link"></div>'],image:["",c.toolbar.image,"image","dialog","",'<div class="icon-image"></div>'],video:["",c.toolbar.video,"video","dialog","",'<div class="icon-video"></div>'],fullScreen:["",c.toolbar.fullScreen,"fullScreen","","",'<div class="icon-expansion"></div>'],showBlocks:["",c.toolbar.showBlocks,"showBlocks","","",'<div class="icon-showBlocks"></div>'],
    codeView:["",c.toolbar.codeView,"codeView","","",'<div class="icon-code-view"></div>'],undo:["",c.toolbar.undo+" (Ctrl+Z)","undo","","",'<div class="icon-undo"></div>'],redo:["",c.toolbar.redo+" (Ctrl+Y)","redo","","",'<div class="icon-redo"></div>'],preview:["",c.toolbar.preview,"preview","","",'<div class="icon-preview"></div>'],print:["",c.toolbar.print,"print","","",'<div class="icon-print"></div>']};for(var g=0;g<a.length;g++){var d=a[g];if("object"===typeof d){for(var f=0;f<d.length;f++){var p=
    d[f];p="object"===typeof p?[p.className,p.title,p.dataCommand,p.dataDisplay,p.displayOption,p.innerHTML]:c[p];e+='<li>   <button type="button" class="btn_editor '+p[0]+'" title="'+p[1]+'" data-command="'+p[2]+'" data-display="'+p[3]+'" data-option="'+p[4]+'">'+p[5]+"   </button></li>"}e=e?'<div class="tool_module"><ul class="editor_tool">'+e+"</ul></div>":"";b+=e;e=null}else/^\/$/.test(d)&&(b+='<div class="tool_module_enter"></div>')}return b}function C(a,b){"object"!==typeof b&&(b={});b.addFont=
    b.addFont||null;b.videoX=b.videoX||560;b.videoY=b.videoY||315;b.imageFileInput=void 0===b.imageFileInput?!0:b.imageFileInput;b.imageUrlInput=void 0!==b.imageUrlInput&&b.imageFileInput?b.imageUrlInput:!0;b.imageSize=b.imageSize||350;b.imageUploadUrl=b.imageUploadUrl||null;b.fontList=b.fontList||null;b.fontSizeList=b.fontSizeList||null;b.height=/^\d+/.test(b.height)?/^\d+$/.test(b.height)?b.height+"px":b.height:a.clientHeight+"px";b.showPathLabel="boolean"===typeof b.showPathLabel?b.showPathLabel:!0;
    b.buttonList=b.buttonList||[["undo","redo"],["font","fontSize","formats"],"bold underline italic strike subscript superscript".split(" "),["removeFormat"],"/",["fontColor","hiliteColor"],["indent","outdent"],["align","line","list","table"],["link","image","video"],["fullScreen","showBlocks","codeView"],["preview","print"]];b.width=/^\d+/.test(b.width)?/^\d+$/.test(b.width)?b.width+"px":b.width:/%|auto/.test(a.style.width)?a.style.width:a.clientWidth+"px";b.display=b.display||("none"!==a.style.display&&
    a.style.display?a.style.display:"block");var e=document,c=e.createElement("DIV");c.className="sun-editor";c.id="suneditor_"+a.id;c.style.width=b.width;c.style.display=b.display;var g=e.createElement("DIV");g.className="sun-editor-container";var d=e.createElement("DIV");d.className="sun-editor-id-toolbar";d.innerHTML=B(b.buttonList);var f=e.createElement("DIV");f.className="sun-editor-id-editorArea";f.style.height=b.height;var p=e.createElement("IFRAME");p.allowFullscreen=!0;p.frameBorder=0;p.className=
        "input_editor sun-editor-id-wysiwyg";p.style.display="block";var w=e.createElement("TEXTAREA");w.className="input_editor html sun-editor-id-code";w.style.display="none";p.addEventListener("load",function(){this.setAttribute("scrolling","auto");this.contentWindow.document.head.innerHTML='<meta charset="utf-8" /><title>SunEditor</title><link rel="stylesheet" type="text/css" href="'+SUNEDITOR.util.getBasePath+'css/suneditor-contents.css">';this.contentWindow.document.body.className="sun-editor-editable";
        this.contentWindow.document.body.setAttribute("contenteditable",!0);this.contentWindow.document.body.innerHTML=A(a.value)});var u=e.createElement("DIV");u.className="sun-editor-id-resizeBar";var n=e.createElement("SPAN");n.className="sun-editor-id-navigation";var k=e.createElement("DIV");k.className="sun-editor-id-loading";k.innerHTML='<div class="loading-effect"></div>';e=e.createElement("DIV");e.className="sun-editor-id-resize-background";f.appendChild(p);f.appendChild(w);u.appendChild(n);g.appendChild(d);
    g.appendChild(f);g.appendChild(u);g.appendChild(e);g.appendChild(k);c.appendChild(g);return{constructed:{_top:c,_relative:g,_toolBar:d,_editorArea:f,_resizeBar:u,_navigation:n,_loading:k,_resizeBack:e},options:b}}SUNEDITOR.util={getXMLHttpRequest:function(){if(window.ActiveXObject)try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(a){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(b){return null}}else return window.XMLHttpRequest?new XMLHttpRequest:null},copyObj:function(a){var b={},e;for(e in a)b[e]=
        a[e];return b},getBasePath:function(){var a=SUNEDITOR.SUNEDITOR_BASEPATH||"";if(!a)for(var b=document.getElementsByTagName("script"),e=0;e<b.length;e++){var c=b[e].src.match(/(^|.*[\\\/])suneditor(\.min)?\.js(?:\?.*|;.*)?$/i);if(c){a=c[1];break}}-1===a.indexOf(":/")&&"//"!==a.slice(0,2)&&(a=0===a.indexOf("/")?location.href.match(/^.*?:\/\/[^\/]*/)[0]+a:location.href.match(/^[^\?]*\/(?:)/)[0]+a);if(!a)throw'[SUNEDITOR.util.getBasePath.fail] The SUNEDITOR installation path could not be automatically detected. Please set the global variable "SUNEDITOR.SUNEDITOR_BASEPATH" before creating editor instances.';
        return a}(),includeFile:function(a,b,e){var c=document.createElement("script");c.type=a;c.src=b;c.onload=e;document.getElementsByTagName("head")[0].appendChild(c)}};SUNEDITOR.dom={getArrayIndex:function(a,b){for(var e=-1,c=0,g=a.length;c<g;c++)if(a[c]===b){e=c;break}return e},nextIdx:function(a,b){var e=this.getArrayIndex(a,b);return-1===e?-1:e+1},prevIdx:function(a,b){var e=this.getArrayIndex(a,b);return-1===e?-1:e-1},isCell:function(a){return a&&/^(?:TD|TH)$/i.test(a.nodeName)},getListChildren:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      b){var e=[];b=b||function(){return!0};(function d(g){a!==g&&b(g)&&e.push(g);for(var f=0,p=g.children.length;f<p;f++)d(g.children[f])})(a);return e},getListChildNodes:function(a,b){var e=[];b=b||function(){return!0};(function d(a){b(a)&&e.push(a);for(var f=0,p=a.childNodes.length;f<p;f++)d(a.childNodes[f])})(a);return e},getParentElement:function(a,b){if(/\./.test(b)){var e="className";b=b.split(".")[1]}else/#/.test(b)?(e="id",b="^"+b.split("#")[1]+"$"):/:/.test(b)?(e="name",b="^"+b.split(":")[1]+
        "$"):(e="tagName",b="^"+b+"$");for(var c=new RegExp(b,"i");a&&(3===a.nodeType||!c.test(a[e]));){if(/^BODY$/i.test(a.tagName))return null;a=a.parentNode}return a},getFormatElement:function(a){if(!a)return null;if(!a||/^(?:HTML|BODY)$/i.test(a.tagName))a=context.element.wysiwygWindow.document.body.firstChild;else for(;!/^BODY$/i.test(a.parentNode.tagName);)a=a.parentNode;return a},changeTxt:function(a,b){a&&b&&(a.textContent=b)},hasClass:function(a,b){if(a)return a.classList.contains(b.trim())},addClass:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            b){a&&!(new RegExp("(\\s|^)"+b+"(\\s|$)")).test(a.className)&&(a.className+=" "+b)},removeClass:function(a,b){a&&(a.className=a.className.replace(new RegExp("(\\s|^)"+b+"(\\s|$)")," ").trim())},toggleClass:function(a,b){if(a){var e=new RegExp("(\\s|^)"+b+"(\\s|$)");e.test(a.className)?a.className=a.className.replace(e," ").trim():a.className+=" "+b}},removeItem:function(a){try{a.remove()}catch(b){a.parentNode.removeChild(a)}}};var F=function(a,b,e){var c={context:a,dom:b,util:e,loadedPlugins:{},dialogForm:null,
    submenu:null,submenuActiveButton:null,controllerArray:[],commandMap:{FORMAT:a.tool.format,FONT:a.tool.font,SIZE:a.tool.fontSize,B:a.tool.bold,U:a.tool.underline,I:a.tool.italic,STRIKE:a.tool.strike,SUB:a.tool.subscript,SUP:a.tool.superscript},_variable:{selectionNode:null,copySelection:null,wysiwygActive:!0,isFullScreen:!1,innerHeight_fullScreen:0,resizeClientY:0,tabSize:4,originCssText:a.element.topArea.style.cssText,editorHeight:a.user.height,currentNodes:[],isTouchMove:!1},_isformatTagName:/^(?:P|DIV|H\d)$/i,
    callModule:function(d,a,c,b){var f=e.getBasePath+"plugins/"+d;if("dialog"===d){var p=this._callBack_addModule.bind(this,"dialog","dialog",c,this.callModule.bind(this,d,a,c,b));if(!SUNEDITOR.plugin.dialog){e.includeFile("text/javascript",f+"/dialog.js",p);return}if(!this.loadedPlugins.dialog){p();return}}SUNEDITOR.plugin[a]?this.loadedPlugins[a]?"function"===typeof b&&b():this._callBack_addModule(d,a,c,b):e.includeFile("text/javascript",f+"/"+a+".js",this._callBack_addModule.bind(this,d,a,c,b))},_callBack_addModule:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     f,c,b){this.context[a]||(this.context[a]={});SUNEDITOR.plugin[f].add(this,c);this.loadedPlugins[f]=!0;"function"===typeof b&&b()},submenuOn:function(a){this.submenu=a.nextElementSibling;this.submenu.style.display="block";b.addClass(a,"on");this.submenuActiveButton=a},submenuOff:function(){this.submenu&&(this.submenu.style.display="none",this.submenu=null,b.removeClass(this.submenuActiveButton,"on"),this.submenuActiveButton=null);a.image&&!0===a.image._onCaption&&SUNEDITOR.plugin.image.toggle_caption_contenteditable.call(c,
        !1);this.controllersOff()},controllersOff:function(){var a=this.controllerArray.length;if(0<a){for(var b=0;b<a;b++)this.controllerArray[b].style.display="none";this.controllerArray=[]}},execCommand:function(d,b,c){a.element.wysiwygWindow.document.execCommand(d,b,c)},focus:function(){var d=b.getParentElement(this._variable.selectionNode,"figcaption");d?d.focus():a.element.wysiwygWindow.document.body.focus()},_setSelectionNode:function(){this._variable.copySelection=e.copyObj(this.getSelection());var a=
        this.getRange();this._variable.selectionNode=a.startContainer!==a.endContainer?a.startContainer:this.getSelectionNode()},isEdgePoint:function(a,b){return 0===b||b===a.nodeValue.length},createRange:function(){return a.element.wysiwygWindow.document.createRange()},getSelection:function(){return a.element.wysiwygWindow.getSelection()},getSelectionNode:function(){return this.getSelection().extentNode||this.getSelection().anchorNode},getRange:function(){var d=this.getSelection();if(0<d.rangeCount)var b=
        d.getRangeAt(0);else b=this.createRange(),(d=this._variable.copySelection)?(b.setStart(d.anchorNode,d.anchorOffset),b.setEnd(d.focusNode,d.focusOffset)):(d=a.element.wysiwygWindow.document.body.firstChild,b.setStart(d,0),b.setEnd(d,0));return b},setRange:function(a,b,c,w){var d=this.createRange();d.setStart(a,b);d.setEnd(c,w);a=this.getSelection();0<a.rangeCount&&a.removeAllRanges();a.addRange(d)},showLoading:function(){a.element.loading.style.display="block"},closeLoading:function(){a.element.loading.style.display=
        "none"},appendP:function(a){var d=document.createElement("P");d.innerHTML="&#65279";a=b.getFormatElement(a);a.parentNode.insertBefore(d,a.nextElementSibling);return d},insertNode:function(a,b){if(b){var d=b.parentNode;b=b.nextSibling}else{var c=this.getSelection();d=this.getRange();var f=d.startContainer,e=d.startOffset,g=d.endContainer,l=d.endOffset;d=f;3===f.nodeType&&(d=f.parentNode);if(f===g&&e===l)c.focusNode&&3===c.focusNode.nodeType?b=c.focusNode.splitText(l):(null!==d.lastChild&&/^BR$/i.test(d.lastChild.nodeName)&&
    d.removeChild(d.lastChild),b=null);else if(f===g)c=f,this.isEdgePoint(g,l)||(b=g.splitText(l)),this.isEdgePoint(f,e)||(c=f.splitText(e)),d.removeChild(c);else for(c.deleteFromDocument?c.deleteFromDocument():this.removeNode(),b=g;1!==b.nodeType;)b=b.parentNode}try{d.insertBefore(a,b)}catch(r){d.appendChild(a)}},removeNode:function(){var a=this.getRange(),c=a.startContainer,p=a.startOffset,e=a.endContainer,g=a.endOffset;a=b.getListChildNodes(a.commonAncestorContainer);var n=b.getArrayIndex(a,c),k=b.getArrayIndex(a,
        e);var l=n+1;for(var r=c;0<=l;l--)a[l]===r.parentNode&&a[l].firstChild===r&&0===p&&(n=l,r=r.parentNode);l=k-1;for(r=e;l>n;l--)a[l]===r.parentNode&&1===a[l].nodeType&&(a.splice(l,1),r=r.parentNode,--k);for(;n<=k;n++)l=a[n],0===l.length||3===l.nodeType&&void 0===l.data?b.removeItem(l):l===c?(l=1===c.nodeType?document.createTextNode(c.textContent):document.createTextNode(c.substringData(0,p)),0<l.length?c.data=l.data:b.removeItem(c)):l===e?(l=1===e.nodeType?document.createTextNode(e.textContent):document.createTextNode(e.substringData(g,
        e.length-g)),0<l.length?e.data=l.data:b.removeItem(e)):b.removeItem(l)},wrapRangeToTag:function(a,c){var d=this.getRange(),f=d.startContainer,e=d.startOffset,g=d.endContainer,k=d.endOffset,l=d.commonAncestorContainer;d={};var r={},m;if(c){var h="(?:;|^|\\s)(?:"+c[0];for(m=1;m<c.length;m++)h+="|"+c[m];h+=")\\s*:[^;]*\\s*(?:;|$)";h=new RegExp(h,"gi")}if(f===g){m=a.cloneNode(!1);if(e===k)m.innerHTML="&nbsp;",this._isformatTagName.test(f.nodeName)?f.appendChild(m):f.parentNode.insertBefore(m,f.nextSibling);
    else if(1===f.nodeType)m.innerHTML=f.outerHTML,f.parentNode.appendChild(m),b.removeItem(f);else{g=document.createTextNode(f.substringData(0,e));var v=document.createTextNode(f.substringData(k,f.length-k));m.innerText=f.substringData(e,k-e);f.parentNode.insertBefore(m,f.nextSibling);f.data=0<g.data.length?g.data:f.substringData(0,e);0<v.data.length&&f.parentNode.insertBefore(v,m.nextSibling)}d.container=m;d.offset=0;r.container=m;r.offset=1}else if(v=function(d){if(3===d.nodeType)return!0;var b="";
        h&&0<d.style.cssText.length&&(b=d.style.cssText.replace(h,"").trim());return d.nodeName!==a.nodeName||0<b.length?(0<d.style.cssText.length&&(d.style.cssText=b),!0):!1},/BODY/i.test(l.nodeName)){r=b.getListChildren(l,function(a){return this._isformatTagName.test(a.nodeName)});var z=b.getParentElement(f,"P");l=b.getParentElement(g,"P");d=0;for(m=r.length;d<m;d++)if(z===r[d])z=d;else if(l===r[d]){l=d;break}m=a.cloneNode(!1);d=this._wrapLineNodesStart(r[z],m,v,f,e);for(f=z+1;f<l;f++)m=a.cloneNode(!1),
        this._wrapLineNodes(r[f],m,v);m=a.cloneNode(!1);r=this._wrapLineNodesEnd(r[l],m,v,g,k)}else m=a.cloneNode(!1),k=this._wrapLineNodesPart(l,m,v,f,e,g,k),d.container=k.startContainer,d.offset=k.startOffset,r.container=k.endContainer,r.offset=k.endOffset;this.setRange(d.container,d.offset,r.container,r.offset)},_wrapLineNodesPart:function(a,c,e,g,u,n,k){var d=[],f=g,p=u,h=n,v=k,w=!1,x=!1,t,q,y;(function D(g,l){for(var m=g.childNodes,k=0,r=m.length;k<r&&!x;k++){var n=m[k];if(w&&n!==h&&3===n.nodeType){for(t=
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     [];q!==a&&null!==q;)e(q)&&1===q.nodeType&&t.push(q.cloneNode(!1)),q=q.parentNode;if(0<t.length){for(y=q=t.pop();0<t.length;)q=t.pop(),y.appendChild(q);c.appendChild(y);l=q}else l=c;l.appendChild(n.cloneNode(!1));d.push(n)}if(n===f){var u=document.createTextNode(f.substringData(0,p)),E=document.createTextNode(f.substringData(p,f.length-p));0<u.length?f.data=u.data:d.push(f);q=n;for(t=[];q!==a&&null!==q;)e(q)&&1===q.nodeType&&t.push(q.cloneNode(!1)),q=q.parentNode;for(y=q=t.pop()||n;0<t.length;)q=t.pop(),
        y.appendChild(q);y!==n?(c.appendChild(y),l=q):l=c;f=E;p=0;l.appendChild(f);w=!0}else{if(n===h){m=document.createTextNode(h.substringData(v,h.length-v));k=document.createTextNode(h.substringData(0,v));r=q=n;for(t=[];q!==a&&null!==q;)e(q)&&1===q.nodeType&&t.push(q.cloneNode(!1)),r=q,q=q.parentNode;for(y=q=t.pop()||n;0<t.length;)q=t.pop(),y.appendChild(q);y!==n?(c.appendChild(y),l=q):l=c;0<m.length?h.data=m.data:d.push(h);h=k;v=k.length;l.appendChild(h);for(a.insertBefore(c,r);0<d.length;){n=d.pop();
        for(n.data="";n.parentNode&&0===n.parentNode.innerText.length;)n=n.parentNode;b.removeItem(n)}x=!0;break}D(n)}}})(a);return{startContainer:f,startOffset:p,endContainer:h,endOffset:v}},_wrapLineNodes:function(a,b,c){(function k(a,d){for(var b=a.childNodes,f=0,e=b.length;f<e;f++){var g=b[f],p=d;if(c(g)){var n=g.cloneNode(!1);d.appendChild(n);1===g.nodeType&&(p=n)}k(g,p)}})(a,b);a.innerHTML="";a.appendChild(b)},_wrapLineNodesStart:function(a,c,e,g,u){var d=document.createElement("P"),f=g,p=u,r=!1,m,
        h,w;(function q(b,g){for(var l=b.childNodes,n=0,t=l.length;n<t;n++){var k=l[n],u=g;if(r){if(1===k.nodeType){q(k,k);continue}h=k;for(m=[];null!==h.parentNode&&h!==a&&h!==c;)e(h)&&1===h.nodeType&&m.push(h.cloneNode(!1)),h=h.parentNode;if(0<m.length){for(w=h=m.pop();0<m.length;)h=m.pop(),w.appendChild(h);c.appendChild(w);g=h}else g=c}if(r||k!==f){if(!r||e(k)){var v=k.cloneNode(!1);g.appendChild(v);1===k.nodeType&&(u=v)}q(k,u)}else{k=document.createTextNode(f.substringData(0,p));u=document.createTextNode(f.substringData(p,
        f.length-p));0<k.data.length&&g.appendChild(k);h=g;for(m=[];h!==d&&null!==h;)e(h)&&1===h.nodeType&&m.push(h.cloneNode(!1)),h=h.parentNode;for(w=h=m.pop()||g;0<m.length;)h=m.pop(),w.appendChild(h);w!==g?(c.appendChild(w),g=h):g=c;d.appendChild(c);f=u;p=0;r=!0;g.appendChild(f)}}})(a,d);a.parentNode.insertBefore(d,a);b.removeItem(a);return{container:f,offset:p}},_wrapLineNodesEnd:function(a,c,g,e,u){var d=document.createElement("P"),f=e,p=u,w=!1,m,h,v;(function q(b,e){for(var l=b.childNodes,n=l.length-
        1;0<=n;n--){var k=l[n],r=e;if(w){if(1===k.nodeType){q(k,k);continue}h=k;for(m=[];null!==h.parentNode&&h!==a&&h!==c;)g(h)&&1===h.nodeType&&m.push(h.cloneNode(!1)),h=h.parentNode;if(0<m.length){for(v=h=m.pop();0<m.length;)h=m.pop(),v.insertBefore(h,v.firstChild);c.insertBefore(v,c.firstChild);e=h}else e=c}if(w||k!==f){if(!w||g(k)){var t=k.cloneNode(!1);e.insertBefore(t,e.firstChild);1===k.nodeType&&(r=t)}q(k,r)}else{k=document.createTextNode(f.substringData(p,f.length-p));r=document.createTextNode(f.substringData(0,
        p));0<k.data.length&&e.insertBefore(k,e.firstChild);h=e;for(m=[];h!==d&&null!==h;)g(h)&&1===h.nodeType&&m.push(h.cloneNode(!1)),h=h.parentNode;for(v=h=m.pop()||e;0<m.length;)h=m.pop(),v.insertBefore(h,v.firstChild);v!==e?(c.insertBefore(v,c.firstChild),e=h):e=c;d.insertBefore(c,d.firstChild);f=r;p=r.data.length;w=!0;e.insertBefore(f,e.firstChild)}}})(a,d);a.parentNode.insertBefore(d,a);b.removeItem(a);return{container:f,offset:p}},indent:function(a,c){var d=b.getParentElement(a,"P");if(d){var f=/\d+/.test(d.style.marginLeft)?
        1*d.style.marginLeft.match(/\d+/)[0]:0;f="indent"===c?f+25:f-25;d.style.marginLeft=(0>f?0:f)+"px"}},toggleDisplayBlocks:function(){b.toggleClass(a.element.wysiwygWindow.document.body,"sun-editor-show-block")},toggleCodeView:function(){if(this._variable.wysiwygActive)a.element.code.value=a.element.wysiwygWindow.document.body.innerHTML.trim().replace(/<\/p>(?=[^\n])/gi,"</p>\n"),a.element.wysiwygElement.style.display="none",a.element.code.style.display="block",this._variable.wysiwygActive=!1;else{var c=
        {"&amp;":"&","&nbsp;":"\u00a0","&lt;":"<","&gt;":">"},b=a.element.code.value.replace(/&[a-z]+;/g,function(a){return"string"===typeof c[a]?c[a]:a});a.element.wysiwygWindow.document.body.innerHTML=0<b.trim().length?b:"<p>&#65279</p>";a.element.wysiwygWindow.document.body.scrollTop=0;a.element.code.style.display="none";a.element.wysiwygElement.style.display="block";this._variable.wysiwygActive=!0}},toggleFullScreen:function(c){this._variable.isFullScreen?(a.element.topArea.style.cssText=this._variable.originCssText,
        a.element.editorArea.style.height=this._variable.editorHeight+"px",b.removeClass(c.firstElementChild,"icon-reduction"),b.addClass(c.firstElementChild,"icon-expansion")):(a.element.topArea.style.position="fixed",a.element.topArea.style.top="0",a.element.topArea.style.left="0",a.element.topArea.style.width="100%",a.element.topArea.style.height="100%",this._variable.innerHeight_fullScreen=window.innerHeight-a.tool.bar.offsetHeight,a.element.editorArea.style.height=this._variable.innerHeight_fullScreen+
        "px",b.removeClass(c.firstElementChild,"icon-expansion"),b.addClass(c.firstElementChild,"icon-reduction"));this._variable.isFullScreen=!this._variable.isFullScreen},openPreview:function(){var c=window.open("","_blank");c.mimeType="text/html";c.document.head.innerHTML='<meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1"><title>'+SUNEDITOR.lang.toolbar.preview+'</title><link rel="stylesheet" type="text/css" href="'+e.getBasePath+'css/suneditor-contents.css">';
        c.document.body.className="sun-editor-editable";c.document.body.innerHTML=a.element.wysiwygWindow.document.body.innerHTML}},g={_shortcutKeyCode:{66:["bold","B"],83:["strikethrough","STRIKE"],85:["underline","U"],73:["italic","I"],89:["redo"],90:["undo"],219:["outdent"],221:["indent"]},_directionKeyKeyCode:/^(?:8|13|32|46|33|34|35|36|37|38|39|40|98|100|102|104)$/,_changeButtonClassTagCheck:/^(?:B|U|I|STRIKE|SUB|SUP)$/,_findButtonEffectTag:function(){var d=c.commandMap,f=this._changeButtonClassTagCheck,
        e=[],g=[],u=!0,n=!0,k=!0,l=!0,r=!0,m=!0,h=!0,v=!0,z="",x="",t={};for(t.selectionParent=c._variable.selectionNode;!/^(?:BODY|HTML)$/i.test(t.selectionParent.nodeName);t={selectionParent:t.selectionParent},t.selectionParent=t.selectionParent.parentNode)1===t.selectionParent.nodeType&&(x=t.selectionParent.nodeName.toUpperCase(),g.push(x),u&&c._isformatTagName.test(x)?(e.push("FORMAT"),b.changeTxt(d.FORMAT,x),u=!1):(n&&(0<t.selectionParent.style.fontFamily.length||t.selectionParent.face&&0<t.selectionParent.face.length)&&
    (e.push("FONT"),n=(t.selectionParent.style.fontFamily||t.selectionParent.face||SUNEDITOR.lang.toolbar.font).replace(/["']/g,""),b.changeTxt(d.FONT,n),n=!1),l&&/^A$/.test(x)&&null===t.selectionParent.getAttribute("data-image-link")?(a.link&&c.controllerArray[0]===a.link.linkBtn||c.callModule("dialog","link",null,function(a){return function(){SUNEDITOR.plugin.link.call_controller_linkButton.call(c,a.selectionParent)}}(t)),l=!1):l&&a.link&&c.controllerArray[0]===a.link.linkBtn&&c.controllersOff(),k&&
    /^SPAN$/.test(x)&&0<t.selectionParent.style.fontSize.length&&(e.push("SIZE"),b.changeTxt(d.SIZE,t.selectionParent.style.fontSize.match(/\d+/)[0]),k=!1),z=t.selectionParent.style.cssText,r&&/font\-weight\s*:\s*(?:\d+|bold|bolder)(?:;|\s|)/.test(z)&&(e.push("B"),r=!1),m&&/font\-style\s*:\s*(?:italic|oblique)(?:;|\s)/.test(z)&&(e.push("I"),m=!1),h&&/text\-decoration(?:\-line)?\s*:\s*underline(?:;|\s|)/.test(z)&&(e.push("U"),h=!1),v&&/text\-decoration(?:\-line)?\s*:\s*line-through(?:;|\s|)/.test(z)&&
    (e.push("STRIKE"),v=!1),e.push(/^STRONG$/.test(x)?"B":/^EM$/.test(x)?"I":x)));l&&c.controllersOff();for(u=0;u<e.length;u++)x=e[u],f.test(x)&&b.addClass(d[x],"on");for(var q in d)-1<e.indexOf(q)||(/^FONT/i.test(q)?b.changeTxt(d[q],SUNEDITOR.lang.toolbar.font):/^SIZE$/i.test(q)?b.changeTxt(d[q],SUNEDITOR.lang.toolbar.fontSize):b.removeClass(d[q],"on"));c._variable.currentNodes=g.reverse();a.user.showPathLabel&&(a.element.navigation.textContent=c._variable.currentNodes.join(" > "))},resize_window:function(){c._variable.isFullScreen&&
    (c._variable.innerHeight_fullScreen+=window.innerHeight-a.tool.bar.offsetHeight-c._variable.innerHeight_fullScreen,a.element.editorArea.style.height=c._variable.innerHeight_fullScreen+"px")},touchstart_toolbar:function(){c._variable.isTouchMove=!1},touchmove_toolbar:function(){c._variable.isTouchMove=!0},onClick_toolbar:function(d){if(c._variable.isTouchMove)return!0;for(var f=d.target,e=f.getAttribute("data-display"),g=f.getAttribute("data-command"),u=f.className;!g&&!/editor_tool/.test(u)&&!/sun-editor-id-toolbar/.test(u);)f=
        f.parentNode,g=f.getAttribute("data-command"),e=f.getAttribute("data-display"),u=f.className;if(!g&&!e)return!0;d.preventDefault();d.stopPropagation();c.submenuOff();c.focus();if(e)!/submenu/.test(e)||null!==f.nextElementSibling&&f.nextElementSibling===c.submenu?/dialog/.test(e)&&c.callModule("dialog",g,null,function(){SUNEDITOR.plugin.dialog.openDialog.call(c,g,f.getAttribute("data-option"),!1)}):c.callModule("submenu",g,f,function(){c.submenuOn(f)});else if(g)switch(g){case "codeView":c.toggleCodeView();
        b.toggleClass(f,"on");break;case "fullScreen":c.toggleFullScreen(f);b.toggleClass(f,"on");break;case "indent":case "outdent":c.indent(c._variable.selectionNode,g);break;case "redo":case "undo":case "removeFormat":c.execCommand(g,!1,null);break;case "preview":c.openPreview();break;case "print":a.element.wysiwygWindow.print();break;case "showBlocks":c.toggleDisplayBlocks();b.toggleClass(f,"on");break;case "subscript":b.hasClass(a.tool.superscript,"on")&&(c.execCommand("superscript",!1,null),b.removeClass(a.tool.superscript,
        "on"));c.execCommand(g,!1,null);b.toggleClass(f,"on");break;case "superscript":b.hasClass(a.tool.subscript,"on")&&(c.execCommand("subscript",!1,null),b.removeClass(a.tool.subscript,"on"));c.execCommand(g,!1,null);b.toggleClass(f,"on");break;default:c.execCommand(g,!1,f.getAttribute("data-value")),b.toggleClass(f,"on")}},onMouseUp_wysiwyg:function(a){a.stopPropagation();var b=a.target;c.submenuOff();/^HTML$/i.test(b.nodeName)?(a.preventDefault(),c.focus()):/^IMG$/i.test(b.nodeName)?(a.preventDefault(),
        c.callModule("dialog","image",null,function(){var a=SUNEDITOR.plugin.dialog.call_controller_resize.call(c,b,"image");SUNEDITOR.plugin.image.onModifyMode.call(c,b,a)})):(c._setSelectionNode(),g._findButtonEffectTag())},onKeyDown_wysiwyg:function(d){c._setSelectionNode();var f=d.keyCode,e=d.shiftKey,w=d.ctrlKey||d.metaKey,u=d.altKey;d.stopPropagation();if(w&&!/^(?:16|17|18)$/.test(f)){var n;if(n=!(e&&83!==f))(n=g._shortcutKeyCode[f])?(c.execCommand(n[0],!1,null),b.toggleClass(c.commandMap[n[1]],"on"),
        n=!0):n=!1;if(n){d.preventDefault();return}}switch(f){case 8:if(c._isformatTagName.test(c._variable.selectionNode.tagName)&&null===c._variable.selectionNode.previousSibling)return d.preventDefault(),d.stopPropagation(),c._variable.selectionNode.innerHTML="&#65279",!1;break;case 9:if(d.preventDefault(),!w&&!u){for(d=c._variable.selectionNode||c.getSelection().anchorNode;!/^TD$/i.test(d.tagName)&&!/^BODY$/i.test(d.tagName);)d=d.parentNode;if(d&&/^TD$/i.test(d.tagName)){f=b.getParentElement(d,"table");
        f=b.getListChildren(f,b.isCell);d=e?b.prevIdx(f,d):b.nextIdx(f,d);d!==f.length||e||(d=0);-1===d&&e&&(d=f.length-1);d=f[d];if(!d)return!1;e=c.createRange();e.setStart(d,0);e.setEnd(d,0);d=c.getSelection();0<d.rangeCount&&d.removeAllRanges();d.addRange(e)}else e||(e=a.element.wysiwygWindow.document.createTextNode(Array(c._variable.tabSize+1).join("\u00a0")),c.insertNode(e,null),d=c.getSelection(),f=c.createRange(),f.setStart(e,c._variable.tabSize),f.setEnd(e,c._variable.tabSize),0<d.rangeCount&&d.removeAllRanges(),
        d.addRange(f))}}},onKeyUp_wysiwyg:function(a){c._setSelectionNode();if(8===a.keyCode&&/^BODY$/i.test(c._variable.selectionNode.tagName)){a.preventDefault();a.stopPropagation();var b=document.createElement(c._variable.currentNodes[0]);b.innerHTML="&#65279";c._variable.selectionNode.appendChild(b);c._variable.selectionNode=b}g._directionKeyKeyCode.test(a.keyCode)&&g._findButtonEffectTag()},onScroll_wysiwyg:function(){c.controllersOff()},onDrop_wysiwyg:function(a){var b=a.dataTransfer.files;if(0===b.length)return!0;
        a.stopPropagation();a.preventDefault();c.focus();c.callModule("dialog","image",null,function(){c.context.image.imgInputFile.files=b;SUNEDITOR.plugin.image.onRender_imgInput.call(c);c.context.image.imgInputFile.files=null})},onMouseDown_resizeBar:function(b){function d(){a.element.resizeBackground.style.display="none";document.removeEventListener("mousemove",g.resize_editor);document.removeEventListener("mouseup",d)}b.stopPropagation();c._variable.resizeClientY=b.clientY;a.element.resizeBackground.style.display=
        "block";document.addEventListener("mousemove",g.resize_editor);document.addEventListener("mouseup",d)},resize_editor:function(b){var d=b.clientY-c._variable.resizeClientY;a.element.editorArea.style.height=a.element.editorArea.offsetHeight+d+"px";c._variable.editorHeight=a.element.editorArea.offsetHeight+d;c._variable.resizeClientY=b.clientY}};a.tool.bar.addEventListener("touchstart",g.touchstart_toolbar);a.tool.bar.addEventListener("touchmove",g.touchmove_toolbar);a.tool.bar.addEventListener("touchend",
    g.onClick_toolbar);a.tool.bar.addEventListener("click",g.onClick_toolbar);a.element.wysiwygWindow.addEventListener("mouseup",g.onMouseUp_wysiwyg);a.element.wysiwygWindow.addEventListener("keydown",g.onKeyDown_wysiwyg);a.element.wysiwygWindow.addEventListener("keyup",g.onKeyUp_wysiwyg);a.element.wysiwygWindow.addEventListener("scroll",g.onScroll_wysiwyg);a.element.wysiwygWindow.addEventListener("drop",g.onDrop_wysiwyg);a.element.resizebar.addEventListener("mousedown",g.onMouseDown_resizeBar);window.addEventListener("resize",
    g.resize_window);return{save:function(){a.element.originElement.innerHTML=c._variable.wysiwygActive?a.element.wysiwygWindow.document.body.innerHTML:a.element.code.value},getContext:function(){return a},getContent:function(){var b="";return 0===a.element.wysiwygWindow.document.body.innerText.trim().length?b:b=c._variable.wysiwygActive?a.element.wysiwygWindow.document.body.innerHTML:a.element.code.value},setContent:function(b){b=A(b);c._variable.wysiwygActive?a.element.wysiwygWindow.document.body.innerHTML=
        b:a.element.code.value=b},appendContent:function(b){if(c._variable.wysiwygActive){var d=document.createElement("P");d.innerHTML=b;a.element.wysiwygWindow.document.body.appendChild(d)}else a.element.code.value+=b},disabled:function(){a.tool.cover.style.display="block";a.element.wysiwygWindow.document.body.setAttribute("contenteditable",!1)},enabled:function(){a.tool.cover.style.display="none";a.element.wysiwygWindow.document.body.setAttribute("contenteditable",!0)},show:function(){var b=a.element.topArea.style;
        b.cssText=c._variable.originCssText;"none"===b.display&&(b.display="block")},hide:function(){a.element.topArea.style.display="none"},destroy:function(){a.tool.bar.removeEventListener("touchstart",g.touchstart_toolbar);a.tool.bar.removeEventListener("touchmove",g.touchmove_toolbar);a.tool.bar.removeEventListener("touchend",g.onClick_toolbar);a.tool.bar.removeEventListener("click",g.onClick_toolbar);a.element.wysiwygWindow.removeEventListener("mouseup",g.onMouseUp_wysiwyg);a.element.wysiwygWindow.removeEventListener("keydown",
        g.onKeyDown_wysiwyg);a.element.wysiwygWindow.removeEventListener("keyup",g.onKeyUp_wysiwyg);a.element.wysiwygWindow.removeEventListener("scroll",g.onScroll_wysiwyg);a.element.wysiwygWindow.removeEventListener("drop",g.onDrop_wysiwyg);a.element.resizebar.removeEventListener("mousedown",g.onMouseDown_resizeBar);window.removeEventListener("resize",g.resize_window);a.element.topArea.parentNode.removeChild(a.element.topArea);a.element.originElement.style.display="block";this.destroy=this.hide=this.show=
        this.enabled=this.disabled=this.appendContent=this.setContent=this.getContent=this.getContext=this.save=e=b=a=null}}};SUNEDITOR.lang=SUNEDITOR.lang||SUNEDITOR.defaultLang;SUNEDITOR.create=function(a,b){var e=document.getElementById(a);if(null===e)throw Error('[SUNEDITOR.create.fail] The element for that id was not found (ID:"'+a+'")');var c=C(e,b);if(document.getElementById(c.constructed._top.id))throw Error('[SUNEDITOR.create.fail] The ID of the suneditor you are trying to create already exists (ID:"'+
    c.constructed._top.id+'")');e.style.display="none";c.constructed._top.style.display="block";"object"===typeof e.nextElementSibling?e.parentNode.insertBefore(c.constructed._top,e.nextElementSibling):e.parentNode.appendChild(c.constructed._top);var g=c.constructed;c=c.options;e={element:{originElement:e,topArea:g._top,relative:g._relative,resizebar:g._resizeBar,navigation:g._navigation,editorArea:g._editorArea,wysiwygWindow:g._editorArea.getElementsByClassName("sun-editor-id-wysiwyg")[0].contentWindow,
        wysiwygElement:g._editorArea.getElementsByClassName("sun-editor-id-wysiwyg")[0],code:g._editorArea.getElementsByClassName("sun-editor-id-code")[0],loading:g._loading,resizeBackground:g._resizeBack},tool:{bar:g._toolBar,cover:g._toolBar.getElementsByClassName("sun-editor-id-toolbar-cover")[0],bold:g._toolBar.getElementsByClassName("sun-editor-id-bold")[0],underline:g._toolBar.getElementsByClassName("sun-editor-id-underline")[0],italic:g._toolBar.getElementsByClassName("sun-editor-id-italic")[0],strike:g._toolBar.getElementsByClassName("sun-editor-id-strike")[0],
        subscript:g._toolBar.getElementsByClassName("sun-editor-id-subscript")[0],superscript:g._toolBar.getElementsByClassName("sun-editor-id-superscript")[0],font:g._toolBar.getElementsByClassName("sun-editor-font-family")[0],format:g._toolBar.getElementsByClassName("sun-editor-font-format")[0],fontSize:g._toolBar.getElementsByClassName("sun-editor-font-size")[0]},user:{videoX:c.videoX,videoY:c.videoY,imageFileInput:c.imageFileInput,imageUrlInput:c.imageUrlInput,imageSize:c.imageSize,imageUploadUrl:c.imageUploadUrl,
        addFont:c.addFont,fontList:c.fontList,fontSizeList:c.fontSizeList,height:c.height.match(/\d+/)[0],showPathLabel:c.showPathLabel}};return F(e,SUNEDITOR.dom,SUNEDITOR.util)}})();